<!DOCTYPE html>


<html>



<head>
    {% load static %}
    {% load static %}
    {% get_static_prefix as STATIC_PREFIX %}
    {% load custom_tags %}
{% include "chlamdb/header.html" %}
</head>

<body>

  <div class="container-fluid" id="main_container">
    <div class="row">
      <div id="wrapper">
          <div id="page-content-wrapper">
            <div class="row">
              <div class="col-lg-12">
                 {% include "chlamdb/menu.html" %}
                 {% include "chlamdb/extract_nav_tabs_template.html" with type=view_type active_tab="comp" %}

                  <br>
                  <p class="page-title"><b>{{form_title}} </b><a href="/docs/index.html" id="show-option" title="{{form_help}}"><i class="fab fa-info-circle " style="size: 5em;" ></i></a></p></center>
                </div>
                      <form action='{% url view_name %}' method="post">
                          {% csrf_token %}
                          {{ form.as_p }}
                          <input type="submit" value="Submit" />

                      </form>

                      {% if show_comparison_table %}
                         

                          <div class="row" style="padding-top:10px ;background-color: rgba(245, 245, 245, 0.986); margin-top: 1em;" >
                                
                      <h4>{{table_title|safe}}</h4>
                             <div class="panel panel-success" style="margin: 1em;">
                                 <div class="panel-heading" style="width:100%;">
                                     <h5 class="panel-title">Help to interpret the results</h5>
                                 </div>
                                 <p style="margin: 10px 10px 10px 10px">
                                    {{table_help|safe}}
                                 </p>
                             </div>
                            </div>

                            <br>
                            <div class="col-lg-12">
                              <table class="hover" id="mytable"  style="padding-top: 1em;">
                               <style>
                               table {
                                 table-layout: fixed;
                               } </style>
                                  <thead>
                                    <tr>
                                        {% for title in table_headers %}
                                        <th>{{title}}</th>
                                        {% endfor %}
                                    </tr>
                                  </thead>
                                  <tbody>
                                    {% for row in table_rows %}
									                    <tr>
                                        {% for value in row|slice_up_to:n_data_columns %}
                                          {% if forloop.counter0 < first_coloured_row %}
                                            <td>{{value|safe}}</td>
                                          {% else %}
                                            {% with color_i=forloop.counter0|add:hist_colour_index_shift %}
                                              {% with colour=row|return_item:color_i %}
                                                {% if colour != 0 %}
                                                  <td data-hist="{{colour}}">{{value}}</td>
                                                {% else %}
                                                  <td>{{value}}</td>
                                                {% endif %}
                                              {% endwith %}
                                            {% endwith %}
                                          {% endif %}
                                        {% endfor %}
                                      </tr>
                                    {% endfor %}
                                  </tbody>
                              </table>



                      {% endif %}

              </div>
          </div>
        </div>
      </div>
    </div>
  </div>


</body>
<script src="{% static 'js/jquery.hottie.js' %}"></script>
<script>
$(function(){
	$("#mytable td").hottie({
		readValue : function(e) {
			return $(e).attr("data-hist");
		},
		colorArray : [
			"#5858FA",
			"#FBEFEF",
			"#FA5858"
		]
	});
});

$(document).ready(function() {
  $('#mytable').DataTable( {
    dom: 'lBfrtip',
    buttons: [
        {
            extend: 'colvis',
            columns: ':not(.noVis)',
        },
        {
            extend: 'excel',
            title: 'plast_refseq'
        },
        {
            extend: 'csv',
            title: 'plast_refseq'
        }
    ],
   
    "ordering": true,
    "info":     false,
    } );
} );

</script>
</html>
