<!DOCTYPE html>


<html>
<head>
{% include "chlamdb/header.html" %}
{% load crispy_forms_tags %}
</head>

<body>
  <div class="container-fluid" id="main_container">
    <div class="row">
      <div id="wrapper">
        <div id="page-content-wrapper">
          <div class="row">
            <div class="col-lg-12">
              {% include "chlamdb/menu.html" %}
              {% include "chlamdb/extract_nav_tabs_template.html" with type=comp_type active_tab="venn" %}

              <br>
              <p class="page-title">
                <b>Visual representation of unique and shared {{compared_obj_name}} among selected genomes </b>
                <a href="https://zdb.readthedocs.io/en/latest/tutorial/website.html#comparisons" id="show-option" target="_blank"  title="Venn diagramm with a maximum of 6 genomes">
                  <i class="fab fa-info-circle " style="size: 5em;" ></i>
                </a>
              </p>

              {% block content %}
  			      {% csrf_token %}
  			      {% crispy form_venn %}
              {% endblock %}

            </div>
          </div>


          {% if show_results %}
            <div class="row" style="padding-top:1em ;background-color: rgba(245, 245, 245, 0.986)" >
              <br>
              <div class="panel panel-success" style="margin:1em;">
                <div class="panel-heading" style="width:100%">
                    <h5 class="panel-title">Help to interpret the results</h5>
                </div>
                <p style="margin: 10px 10px 10px 10px">
                  The interactive Venn diagram lets you visualize how many {{compared_obj_name}} are shared among the selected genomes or a subset of genomes of interest, and how many are unique to each genome.
                  <br> Clicking on the reported numbers, the list of identified {{compared_obj_name}} is displayed below. {{table_data_descr}}
                  <br> Additionally, the total number of {{compared_obj_name}} identified in each genome can be visualized in the barplot, while the number of unique or shared ones can be appreciated in the last plot.
                </p>
              </div>
              {% include "chlamdb/venn_representation_template.html" %}
            </div>
          {% endif %}
        </div>
      </div>
    </div>
  </div>


  <script>
    var table_headers = {{ table_headers|safe }}
    var columns = table_headers.map(it => ({"title": it}));

  </script>

  <p id="jqtest"></p>

</body>
{% include "chlamdb/style_menu.html" %}
</html>
